<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Room-House Tower Owner's Manual</title>
	<meta name="generator" content="LibreOffice 5.3.6.1 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="2024-07-15T16:26:33.107809758"/>
	<meta name="description" content="This is the Room-House Tower Owner's Manual. It is intended as a guide on how to operate the basics, as well as an introduction to some advanced features."/>
	<meta name="" content=""/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<!-- a name="top" class="return-link" href="https://room-house.com/">&lt;- Return to Room-House.com</a -->
	<style type="text/css">
		p { text-align: justify }
		h1 { text-transform: uppercase }
		h2 { text-transform: uppercase }
		h3 { text-transform: uppercase }
		h4 { text-transform: uppercase }
		dt { text-transform: uppercase; font-weight: bold }
		pre.cjk { font-family: "DejaVu Sans Mono", monospace }
		a:link { color: #007aa3; font-weight: bold; text-decoration: none }
		code.western { font-style: italic; font-weight: bold }
		code.cjk { font-family: "DejaVu Sans Mono", monospace; font-style: italic; font-weight: bold }
		code.ctl { font-style: italic; font-weight: bold }
		a:visited { color: #007aa3; font-weight: bold; text-decoration: none }
	</style>
</head>
<body lang="en-US" link="#007aa3" vlink="#007aa3" dir="ltr">
<h1>Room-House Tower Owner's Manual</h1>
<p>version 1.39 <font size="6" style="font-size: 24pt">see in</font><font size="6" style="font-size: 24pt">
</font><a href="https://room-house.com/Manual.html"><font size="6" style="font-size: 24pt">HTML</font></a></p>
<div id="toc" dir="ltr">
	<p><a href="#0"><span style="text-transform: uppercase"><b>0 -
	Introduction</b></span></a> 
	</p>
	<ul>
		<li/>
<p style="margin-bottom: 0in"><a href="#0.1">0.1 -
		Introduction</a> 
		</p>
		<li/>
<p style="margin-bottom: 0in"><a href="#0.2">0.2 - What is
		Room-House Tower</a> 
		</p>
		<li/>
<p><a href="#0.3">0.3 - History</a> 
		</p>
	</ul>
	<p><a href="#1"><span style="text-transform: uppercase"><b>1 -
	Installing</b></span></a> 
	</p>
	<ul>
		<li/>
<p style="margin-bottom: 0in"><a href="#1.1">1.1 -
		Requirements</a> 
		</p>
		<li/>
<p style="margin-bottom: 0in"><a href="#1.2">1.2 - Setting up
		Virtual Machine</a> 
		</p>
		<li/>
<p><a href="#1.3">1.3 - Starting Tower</a> 
		</p>
	</ul>
	<p><a href="#2"><span style="text-transform: uppercase"><b>2 -
	Configuration Basics</b></span></a> 
	</p>
	<ul>
		<li/>
<p style="margin-bottom: 0in"><a href="#2.1">2.1 -
		Configuration Overview</a> 
		</p>
		<li/>
<p style="margin-bottom: 0in"><a href="#2.2">2.2 - Login &amp;
		Password</a> 
		</p>
		<li/>
<p style="margin-bottom: 0in"><a href="#2.3">2.3 - Settings</a>
				</p>
		<li/>
<p style="margin-bottom: 0in"><a href="#2.4">2.4 - Port
		Forwarding</a> 
		</p>
		<li/>
<p><a href="#2.5">2.5 - Users &amp; Rooms</a> 
		</p>
	</ul>
</div>
<div id="manual-content" dir="ltr">
	<h2><a name="0"></a>0 - Introduction</h2>
	<h3><a name="0.1"></a>1 - Introduction</h3>
	<p>This is the Room-House Tower Owner's Manual. It is intended as a
	guide on how to operate the basics of Room-House Tower, as well as
	an introduction to some advanced features. It is organised into
	major sections as well as more detailed subsections and these are
	laid out in the <a href="#toc">Table of Contents</a>. The first
	section deals with downloading, installing, and running Room-House
	Tower. The second section is an overview of configuring Room-House
	Tower. Reading those two sections is enough to get you started. The
	remaining sections cover more advanced features and further
	configuration options in greater depth. 
	</p>
	<h4>Resources</h4>
	<ul>
		<li/>
<p style="margin-bottom: 0in"><a href="https://room-house.com/">Room-House
		Homepage</a> 
		</p>
		<li/>
<p style="margin-bottom: 0in"><a href="http://t.me/skypirl">Telegram
		Official</a> 
		</p>
		<li/>
<p style="margin-bottom: 0in"><a href="https://twitter.com/RoomHouseOffic1">Twitter/X
		Official</a> 
		</p>
		<li/>
<p style="margin-bottom: 0in"><a href="https://explorer.room-house.com/">Explorer</a>
				</p>
		<li/>
<p style="margin-bottom: 0in"><a href="https://skypirl.net/">Explorer
		Legacy</a> 
		</p>
		<li/>
<p style="margin-bottom: 0in"><a href="https://subscan.room-house.com/">Subscan</a>
				</p>
		<li/>
<p><a href="mailto:support@room-house.com">Support E-mail
		Address</a> 
		</p>
	</ul>
	<h4>Developer Resources</h4>
	<ul>
		<li/>
<p><a href="https://github.com/kl3eo/room-house">GitHub
		Repository</a> 
		</p>
	</ul>
	<h3><a name="0.2"></a>2 - What is Room-House Tower</h3>
	<p>Room-House Tower is a container implementation of Room-House
	which is a Free and Open Source (FOSS) software. Room-House Tower is
	designed with performance, configurability, and extensibility in
	mind. The server is written in Java, and there is an extensive layer
	in Javascript client browser code. 
	</p>
	<h3><a name="0.3"></a>3 - History</h3>
	<p>Room-House was created in early 2021 by <a href="mailto:alex@room-house.com">kl3eo</a>
	as a replacement for the vanilla Kurento's team Java client/server
	sample app. It's designed with a purpose to be better performing and
	more configurable than the original sample app. It has since been
	run inside the <a href="https://room-house.com/space/" target="new">xTER
	SafeContainer</a> to make its deploy as easy as possible. Room-House
	inside an xTER makes up the basis for the Room-House Tower. 
	</p>
	<h2><a name="1"></a>1 - Installing</h2>
	<h3><a name="1.1"></a>1 - Requirements</h3>
	<p><a name="buildsurl"></a>For Windows, Linux or Mac, the same
	demand will apply, namely having a static (fixed) IP for the host
	that runs the Room-House in container. 6Gb RAM at least is required
	of the host as well as 2 Gb of free space specially for R-H files. 
	</p>
	<p>Room-House Tower is a Linux virtual machine that runs in
	VirtualBox (C) by Oracle. On Linux, macOS, Windows, you can simply
	install VirtualBox from Oracle's site <a href="https://www.virtualbox.org/" target="new">virtualbox.org</a>.
	No extension pack is required. The oldest tested version of VB to
	run Room-House is 6.1.22. 
	</p>
	<h3><a name="1.2"></a>2 - Setting up virtual machine</h3>
	<p>The simplest way is to use our setup scripts fow Windows (a) or
	Linux/macOS (b). Before running any of them, download the small boot
	file &quot;loop_rh.vdi&quot; from <a href="https://github.com/kl3eo/room-house/tree/main/rh" target="new">github</a>
	. On Linux, place it to &quot;/opt&quot; folder where the script
	will find it. On Windows, take it to the new folder which is created
	by the script (see the code). 
	</p>
	<p>Start the graphics VirtualBox Manager to see the details. On
	Linux, make sure the &quot;vboxdrv&quot; driver is active with
	&quot;service vboxdrv status&quot; command. 
	</p>
	<h4><a name="creatingonlinux"></a>Linux/macOS</h4>
	<p>On Linux or Mac, here is our script to create the virtual machine
	name &quot;RH&quot;. 
	</p>
	<pre class="western"><code class="western">#!/bin/bash</code>
<code class="western">mkdir -p ~/VB &amp;&amp; cd ~/VB</code>
<code class="western">if [ -f /opt/loop_rh.vdi ]; then</code>
<code class="western"> </code><code class="western">cp -a /opt/loop_rh.vdi ./</code>
<code class="western">else</code>
<code class="western"> </code><code class="western">echo File /opt/loop_rh.vdi not found. Exiting</code>
<code class="western"> </code><code class="western">exit</code>
<code class="western">fi</code>
<code class="western">vboxmanage createvm --name RH --ostype RedHat_64 --register --basefolder `pwd`</code>
<code class="western">mv loop_rh.vdi RH/ &amp;&amp; cd RH</code>
<code class="western">PRI_IF=`/sbin/ip addr show | awk '/inet.*brd/{print $NF; exit}'`</code>
<code class="western">vboxmanage modifyvm RH --memory 4096 --cpus 2 --audio none --firmware efi --nic1 bridged --nictype1 virtio --bridgeadapter1 $PRI_IF</code>
<code class="western">vboxmanage createmedium --filename 3G.vdi --size 3072</code>
<code class="western">vboxmanage storagectl RH --name SATA --add sata</code>
<code class="western">vboxmanage storageattach RH --storagectl SATA --medium loop_rh.vdi --port 0 --type hdd</code>
<code class="western">vboxmanage storageattach RH --storagectl SATA --medium 3G.vdi --port 1 --type hdd</code>
<code class="western">vboxmanage modifyvm RH --boot1 disk --boot2 none --boot3 none --boot4 none</code>
</pre><h4>
	<a name="creatingonwindows"></a>Windows</h4>
	<p>If you prefer to run on Windows, here is our script for it -
	replace &quot;Bob&quot; with your Windows user's name, then please
	run each of nine commands one by one, #1..#9 to make sure every one
	is successful. If you encountered an error, remove the &quot;RH&quot;
	virtual machine in the graphics VirtualBox Manager, then start from
	the scratch. Also replace &quot;Intel(R) Ethernet Connection
	I219-LM&quot; in command #3 with your host's network adapter's name.
	You can learn what it is from the graphics VirtualBox Manager (see
	picture). Copy the adapter's name from there and paste it between
	the quotes after the --bridgeadapter1 flag where now it's &quot;Intel(R)
	Ethernet Connection I219-LM&quot;. 
	</p>
	<p><img src="https://room-house.com/img/man1.png" name="Image1" align="bottom" width="75" height="38" border="0"/>

		</p>
	<pre class="western">
<code class="western">1. vboxmanage createvm --name RH --ostype RedHat_64 --register --basefolder &quot;C:\Users\Bob\VMs&quot;</code>
<code class="western">2. cd &quot;C:\Users\Bob\VMs\RH&quot;</code>
<code class="western">3. vboxmanage modifyvm RH --memory 4096 --cpus 2 --audio none --firmware efi --nic1 bridged --nictype1 virtio --bridgeadapter1 &quot;Intel(R) Ethernet Connection I219-LM&quot;</code>
<code class="western">4. vboxmanage createmedium --filename 3G.vdi --size 3072</code>
<code class="western">5. vboxmanage storagectl RH --name SATA --add sata</code>
</pre><p>
	Now download &quot;loop_rh.vdi&quot; from github link above and
	place it to the same folder where you're running commands (it's
	&quot;C:\Users\Bob\VMs\RH&quot;), and proceed with command #6. 
	</p>
	<pre class="western">
<code class="western">6. vboxmanage internalcommands sethduuid loop_rh.vdi</code>
<code class="western">7. vboxmanage storageattach RH --storagectl SATA --medium loop_rh.vdi --port 0 --type hdd</code>
<code class="western">8. vboxmanage storageattach RH --storagectl SATA --medium 3G.vdi --port 1 --type hdd</code>
<code class="western">9. vboxmanage modifyvm RH --boot1 disk --boot2 none --boot3 none --boot4 none</code>
</pre><p>
	This process requires use of the command line. If you are not
	familiar with it, it is recommended that you get used to it first. 
	</p>
	<h3><a name="1.3"></a>3 - Starting Tower</h3>
	<p>Once you have successfully created the &quot;RH&quot; virtual
	machine, click on the &quot;Start&quot; button in the graphics
	VirtualBox Manager's menu. Next, you will see the blue screen with 5
	fields, where only first four fields are required. Fill these fields
	one by one: 
	</p>
	<p><img src="https://room-house.com/img/man2.png" name="Image2" align="bottom" width="75" height="38" border="0"/>

		</p>
	<p>1. Username - type &quot;vg_11&quot; 2. Password - type &quot;aqua&quot;
	3. IP - type ANY free IP address from your local subnet. If your
	router is &quot;192.168.0.1&quot; and your host computer is
	&quot;192.168.0.10&quot;, then may be &quot;192.168.0.100&quot; is
	free? You can try it. 4. Gateway - type &quot;192.168.0.1&quot; or
	&quot;192.168.1.1&quot; or whatever your local subnet router's
	internal IP is. 5. Leave it blank, it's not required now. 
	</p>
	<p>This process requires understanding your local subnet IP. If you
	are not familiar with it, it is recommended that you consult your
	system administrator first. 
	</p>
	<p>Wait patiently and see what is going on, it may take some minutes
	to download, unpack and start all the software on your VM. 
	</p>
	<p>Once this process has finished, you will see the &quot;login&quot;
	prompt on the bottom line (see pictures). 
	</p>
	<h4><a name="dnld"></a>Downloading..</h4>
	<p><img src="https://room-house.com/img/man3.png" name="Image3" align="bottom" width="75" height="38" border="0"/>

		</p>
	<h4><a name="unpc"></a>..Unpacking &amp; Starting services..</h4>
	<p><img src="https://room-house.com/img/man4.png" name="Image4" align="bottom" width="75" height="38" border="0"/>

		</p>
	<h4><a name="cmpl"></a>..Complete</h4>
	<p><img src="https://room-house.com/img/man5.png" name="Image5" align="bottom" width="75" height="38" border="0"/>

		</p>
	<p>After the very first startup, until the Tower has been
	configured, the bottom line reads as &quot;localhost login:&quot; -
	you will change the Tower's name from &quot;localhost&quot; to its
	real name later. In this example pictures, the tower's name was
	already configured by us as &quot;iron&quot;, and its internal IP
	had been chosen &quot;192.168.88.202&quot; by us, because our local
	subnet is &quot;192.168.88.0/24&quot;. 
	</p>
	<h2><a name="2"></a>2 - Configuration Basics</h2>
	<h3><a name="2.1"></a>1 - Configuration Overview</h3>
	<p>Room-House Tower can be configured by editing options in WebAdmin
	interface. Below is a list of WebAdmin menus: 
	</p>
	<p><img src="https://room-house.com/img/man6.png" name="Image6" align="bottom" width="75" height="38" border="0"/>

		</p>
	<dl>
		<dt>Settings 
		</dt><dd>
		The main configuration menu which contains server-wide
		configuration variables. 
		</dd><dt>
		Users 
		</dt><dd>
		Can add/edit/remove users with their passwords, and separately
		add/edit/remove Rooms. Also can bind a Room to a User which becomes
		its Master. 
		</dd><dt>
		Logs 
		</dt><dd>
		Some legacy logging is enabled on default. 
		</dd><dt>
		Info 
		</dt><dd style="margin-bottom: 0.2in">
		Allows you to tweak server processes. 
		</dd></dl>
	<p>
	When changing values in Settings, it's always necessary to &quot;Save&quot;
	the new values with a right column top button click. 
	</p>
	<h3><a name="2.2"></a>2 - Login &amp; Password</h3>
	<p><img src="https://room-house.com/img/man7.png" name="Image7" align="bottom" width="75" height="38" border="0"/>

		</p>
	<p>Login allows different users to access different features in
	WebAdmin. Each login has its own permissions. Setting up user login
	is easily done via the WebAdmin. The Room-House Tower owner's login
	is &quot;admin&quot; and in Settings there is a way to change the
	admin's password. The Room-House Tower owner and admin are the same,
	the first thing the admin MUST DO is CHANGE THE DEFAULT ADMIN'S
	PASSWORD! Go to Settings menu, click on &quot;change&quot; next to
	&quot;Admin key&quot; and replace the default with some phrase,
	press Enter and then click on the astersik. Please write down the
	admin's new password which shows after clicking on the asterisk.
	After that, click on &quot;Save&quot; and re-login, testing your new
	admin password. 
	</p>
	<p>If you didn't write down your new admin's password and can't
	remember it, you will have to stop this virtual machine, then
	replace file &quot;loop_rh.vdi&quot; located in your VB folder with
	the same file from the github. Doing this, you lose all changes to
	the R-H configuration that you may have done so far. Restart your VM
	and change the default password again. Please be advised to lock
	your computer while going out, because one can change the admin's
	password replacing the current &quot;loop_rh.vdi&quot; with the
	default file! Anyone who has access to your computer may do so and
	then login to WebAdmin as you - to prevent this, lock your computer
	before leaving your place. 
	</p>
	<p>To access the WebAdmin the first time after the very first Tower
	startup, go to URL: &quot;https://192.168.8.100:8443&quot; - here we
	assume that &quot;192.168.0.100&quot; is the one IP you've chosen on
	the &quot;blue screen&quot; during the startup. Please disregard the
	browser warning or complaining about the wrong certificate, because
	you're accessing the internal local IP and not the fully qualified
	DNS name, while the certificate is good for the latter which you
	will be using after the configuration is complete. Enter &quot;admin&quot;
	into the top field, and &quot;ed838432&quot; into the password
	field. This is the default admin's password that you must change
	now. Please CHANGE the admin's password in the Settings menu as we
	have already urged you to do! 
	</p>
	<h3><a name="2.3"></a>3 - Settings</h3>
	<p>Change the &quot;Host&quot; to the Tower name, the one that you
	have received from us on condition of the lease. Then change the
	&quot;External_IP&quot; to the static IP of your router. Because you
	are using VirtualBox environment, there is no Wi-Fi on this system.
	Later you may also need other &quot;Settings&quot; options. Do save
	the changes you've made clicking the top button in the right column.
	Check if the URL &quot;https://your_tower_name.room-house.com&quot;
	is alive in the internet. It will eventually be, if not already, -
	first you'd have to do the correct &quot;Port Forwarding&quot;. -
	Read the next Chapter of this Manual how to do it. 
	</p>
	<h3><a name="2.4"></a>4 - Port Forwarding</h3>
	<p>To access Room-House from internet, TCP ports 443 and 8443 must
	be open. This is true when your host has a direct link to internet.
	However, in most cases it would sit behind the firewall of the
	router. This is why port forwarding is required. First, your router
	is proxied by the Room-House. From the proxy, web requests will be
	forwarded to the static IP of your router. And from the router, they
	will have to be forwarded to TCP ports 443 and 8443 on
	&quot;192.168.0.100&quot; which is what you've chosen on the &quot;blue
	screen&quot; during startup. So you will have to configure the &quot;Port
	Forwarding&quot; on your router. If the ports 443 and 8443 are not
	busy, just assign them to &quot;192.168.0.100&quot;. But if they are
	busy, then assign ANY two TCP router ports, for example, 8943 and
	8953, to be forwarded to TCP ports 443 and 8443 of the
	&quot;192.168.0.100&quot;. Then <a href="https://club.room-house.com/" target="new">contact
	us</a> and tell us which ports of the router have been assigned
	(8943 and 8953, or other) so that we configure it on our proxy to do
	the correct forwarding of web requests to your router's ports. 
	</p>
	<p>Besides these two TCP ports, also you have to forward the range
	1025-65535 of the UDP ports from the router to &quot;192.168.0.100&quot;.
	NB: if working without domain names, e.g. no DNS available, forward
	TCP post 18443 and then accept browser's warning to open
	https://your_external_ip:18443 
	</p>
	<p>If you've found port forwarding difficult, as you probably must
	have, discuss these matters with your system administrator. 
	</p>
	<h3><a name="2.5"></a>5 - Users &amp; Rooms</h3>
	<p>By default, the Room-House Tower has no users or rooms. To have
	them added, the WebAdmin allows to be configured properly. A typical
	Users configuration looks like this (Table 1): 
	</p>
	<p><img src="https://room-house.com/img/man8.png" name="Image8" align="bottom" width="75" height="38" border="0"/>

		</p>
	<p>In the example above, &quot;Ronnie&quot; can login to the
	WebAdmin by typing <code class="western">58</code> as his login and
	the password <code class="western">493266</code>. In the same time,
	&quot;Ronnie&quot; can enter the locked main Room of the Tower
	&quot;club&quot; (https://club.room-house.com) by typing <code class="western">58493266</code>
	right after the captcha. 
	</p>
	<p>The Tower owner creates/edits/removes users with access to the
	main Room (https://tower_name.room-house.com). That is, when the
	main Room of the Tower is locked, &quot;normal&quot; users must have
	an ID and a password to access it; however, the Tower can assign an
	Apart/Office to a User, by selecting &quot;Owner&quot; from the
	right table column. This User becomes the &quot;owner&quot; (or the
	&quot;master&quot;) of selected Apart/Office, and he can create
	other users with access to it. So there are two types of users that
	the Tower owner creates: 1. normal users who have access to the main
	Room when it's locked 2. those assigned to be masters of Aparts or
	Offices who can create other users with access to their property.
	This is simple to understand, for example, the Tower gives the key
	to the Office Manager and the Manager makes keys for every staff
	member. 
	</p>
	<p>When users are assigned to own an Apart or Office, they aren't
	shown in the Table 1 any more; so that it's not possible to see or
	change their password or assignment, or even remove them altogether.
	This is a security measure to protect the Apart or Office
	owner/master and their office staff (or their family) from any
	trouble that may occur, like being accidentally deleted from the
	Table 1 or having a password stolen by an intruder. This is why
	assigning a user to be the owner/master of an Apart/Office, the
	Tower owner is asked HARD way to write down the ID and password of
	the user being assigned, for reason that it's not possible to see
	them again after the assignment has been done. 
	</p>
	<p><img src="https://room-house.com/img/man9.png" name="Image9" align="bottom" width="75" height="38" border="0"/>

		</p>
	<p>The Tower owner creates 1-room Aparts or Offices in the &quot;Rooms&quot;
	section (see Table 2). Assigning this Apart or Office to a User in
	Table 1 makes it &quot;immutable&quot; - it cannot be renamed or
	deleted. Again, this is a protective measure because normally
	assigning ownership is a result of a purchase, so Apart/Office
	ownership rights must be guaranteed by the Tower and protected
	against unauthorized or accidental changes. 
	</p>
	<p>It is of course possible to have more rooms than only one in any
	Apart or Office, but currently the Tower's owner has to ask
	Room-House to have it done. 
	</p>
</div>
<p><!-- manual-content --><a href="#top">^</a> 
</p>
</body>
</html>